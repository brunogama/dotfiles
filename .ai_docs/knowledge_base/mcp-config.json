{
  "name": "refactorbuddy-knowledge-base",
  "version": "1.0.0",
  "description": "RefactorBuddy Knowledge Base MCP Server",
  "server": {
    "command": "uv",
    "args": ["run", "kb-server"],
    "env": {
      "KB_ROOT": ".ai_docs/knowledge_base"
    }
  },
  "tools": [
    {
      "name": "kb_search",
      "description": "Search knowledge base by topic or domain",
      "inputSchema": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "Search query"
          },
          "domain": {
            "type": "string",
            "description": "Optional domain filter"
          },
          "max_results": {
            "type": "integer",
            "description": "Maximum results to return",
            "default": 10
          }
        },
        "required": ["query"]
      }
    },
    {
      "name": "kb_read_file",
      "description": "Read a specific knowledge base file",
      "inputSchema": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "Relative path from KB root"
          }
        },
        "required": ["path"]
      }
    },
    {
      "name": "kb_extract_section",
      "description": "Extract a specific section from a KB file",
      "inputSchema": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "Relative path from KB root"
          },
          "section": {
            "type": "string",
            "description": "Section name to extract"
          }
        },
        "required": ["path", "section"]
      }
    },
    {
      "name": "kb_list_domains",
      "description": "List all available domains in the knowledge base"
    },
    {
      "name": "kb_get_metadata",
      "description": "Get YAML front matter metadata from a KB file",
      "inputSchema": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "Relative path from KB root"
          }
        },
        "required": ["path"]
      }
    }
  ]
}
